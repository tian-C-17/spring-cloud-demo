通常情况下，我们都会在客户端进行服务降级，当客户端调用的服务端的服务不可用时，
客户端直接进行服务降级处理，避免其线程被长时间、不必要地占用

----- 本项目启动模拟服务端降级
----8081-feign 模拟服务端熔断

不管是业务方法指定的降级方法还是全局降级方法，
它们都必须和业务方法在同一个类中才能生效，业务逻辑与降级逻辑耦合度极高。

服务熔断：
三种状态：
熔断关闭状态： 服务正常调用
开启状态：固定时间内接口调用出错比例达到一个阈值 比如50%，就会开启， 对该服务的调用
    都会被切断，熔断器会执行本地的降级（FallBack）方法。
半熔断状态： 在熔断开启一段时间之后，熔断器会进入半熔断状态。在半熔断状态下，熔断器会
    尝试恢复服务调用方对服务的调用，允许部分请求调用该服务，并监控其调用成功率。
    如果成功率达到预期，则说明服务已恢复正常，熔断器进入关闭状态；如果成功率仍旧很低，
    则重新进入熔断开启状态。
    
  Hystrix 实现服务熔断的步骤如下：
  当服务的调用出错率达到或超过 Hystix 规定的比率（默认为 50%）后，
  熔断器进入熔断开启状态。
  熔断器进入熔断开启状态后，Hystrix 会启动一个休眠时间窗，在这个时间窗内，
  该服务的降级逻辑会临时充当业务主逻辑，而原来的业务主逻辑不可用。
  当有请求再次调用该服务时，会直接调用降级逻辑快速地返回失败响应，以避免
  系统雪崩。
  当休眠时间窗到期后，Hystrix 会进入半熔断转态，允许部分请求对服务原来
  的主业务逻辑进行调用，并监控其调用成功率。
  如果调用成功率达到预期，则说明服务已恢复正常，Hystrix 进入熔断关闭
  状态，服务原来的主业务逻辑恢复；否则 Hystrix 重新进入熔断开启状态，休
  眠时间窗口重新计时，继续重复第 2 到第 5 步。
  
  metrics.rollingStats.timeInMilliseconds	统计时间窗。
  circuitBreaker.sleepWindowInMilliseconds	休眠时间窗，熔断开启状态持续一段时间后，熔断器会自动进入半熔断状态，这段时间就被称为休眠窗口期。
  circuitBreaker.requestVolumeThreshold	请求总数阀值。
  
  在统计时间窗内，请求总数必须到达一定的数量级，Hystrix 才可能会将熔断器打开进入熔断开启转态，而这个请求数量级就是 请求总数阀值。Hystrix 请求总数阈值默认为 20，这就意味着在统计时间窗内，如果服务调用次数不足 20 次，即使所有的请求都调用出错，熔断器也不会打开。
  circuitBreaker.errorThresholdPercentage	错误百分比阈值。
  
  当请求总数在统计时间窗内超过了请求总数阀值，且请求调用出错率超过一定的比例，熔断器才会打开进入熔断开启转态，而这个比例就是错误百分比阈值。错误百分比阈值设置为 50，就表示错误百分比为 50%，如果服务发生了 30 次调用，其中有 15 次发生了错误，即超过了 50% 的错误百分比，这时候将熔断器就会打开。
  
  
  
  